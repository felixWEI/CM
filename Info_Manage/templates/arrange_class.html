<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="icon" href="../static/home4.png">

    <title>排课系统</title>

    <!-- Bootstrap core CSS -->
    <link href="../static/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="../static/DataTables/DataTables-1.10.16/css/jquery.dataTables.min.css" rel="stylesheet">

    <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
    <link href="../static/assets/css/ie10-viewport-bug-workaround.css" rel="stylesheet">

    <!-- Custom styles for this template -->
{#      <link href="../static/custom.min.css" rel="stylesheet">#}
    <link href="../static/dashboard.css" rel="stylesheet">


    <!-- Just for debugging purposes. Don't actually copy these 2 lines! -->
    <!--[if lt IE 9]><script src="../../assets/js/ie8-responsive-file-warning.js"></script><![endif]-->
    <script src="../static/assets/js/ie-emulation-modes-warning.js"></script>

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
      <script>
        var current_year = new Date().getFullYear().toString().substr(2,2);
        var STUDENT_TYPE = ['本科', '法学硕士', '法律硕士', '法学博士']
        var CLASS_NAME_LIST = ["第二专业教学", "通识教育","法学专业教育", "跨校辅修教学", "基础教育", "法律硕士(法学)",
        "法律硕士(非法学)1班","法律硕士(非法学)2班", "法律硕士在职生", "法律史", "法学理论", "国际法学", "环境与资源保护法学",
        "经济法学","民商法学", "诉讼法学", "刑法学", "宪法学与行政法学"]
        var SEMESTER = ['一', '二']
        var COURSE_HOUR = ['18', '36', '54', '56', '72']
        var COURSE_DEGREE = ['1.0', '2.0', '3.0', '4.0', '5.0', '6.0', '7.0', '8.0', '9.0', '10']
        var COURSE_TYPE = ['必修', '选修']
      </script>
  </head>

  <body>

    <nav class="navbar navbar-fixed-top">
      <div class="container-fluid">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
            <img class="narbar-brand" src="../static/home3.png" alt="" style="float:left">
            <a class="navbar-brand" href="/" style="margin-left: 0;">法学院排课系统</a>
        </div>
        <div id="navbar" class="navbar-collapse">
          <ul class="nav navbar-nav">
            <li class="nav-item"><a href="#" class="nav-active">分配授课教师</a></li>
            <!--<li class="nav-item"><a href="#">分配上课时间</a></li>-->
            <li class="nav-item"><a href="/class_manage/">课程信息管理</a></li>
            <li class="nav-item"><a href="/teacher_personal/">教师信息管理</a></li>
            <!--<li class="nav-item"><a href="#">排课结果查询</a></li>-->
          </ul>
          <ul class="nav navbar-nav navbar-right">
              <li class="nav-item">
                 <a>
                     <b>
                         {% if UserName %}
                            {{ UserName }}
                         {% else %}
                             匿名
                         {% endif %}
                     </b>
                 </a>
              </li>
              <li class="nav-item">
                 <a href="/accounts/logout/">
                     <b>
                         登出
                     </b>
                 </a>
              </li>
              <li class="nav-item"><a href="{% url 'password_change' %}?next={{ request.path }}"><b>修改密码</b></a></li>
          </ul>
        </div>
      </div>
    </nav>

    <div class="container-fluid">
	    <div class="row form-group step-left">
        <div class="col-xs-12">
          <ul class="nav nav-pills nav-stacked thumbnail setup-panel">
            <li class="{{ step_position.0 }}"><a href="#step-1">
                <h4 class="list-group-item-heading">步骤一</h4>
                <p class="list-group-item-text"></p>
            </a></li>
            <li class="{{ step_position.1 }}"><a href="#step-2">
                <h4 class="list-group-item-heading">步骤二</h4>
                <p class="list-group-item-text"></p>
            </a></li>
            <li class="{{ step_position.2 }}"><a href="#step-3">
                <h4 class="list-group-item-heading">步骤三</h4>
                <p class="list-group-item-text"></p>
            </a></li>
            <li class="{{ step_position.3 }}"><a href="#step-4">
                <h4 class="list-group-item-heading">步骤四</h4>
                <p class="list-group-item-text"></p>
            </a></li>
            <li class="{{ step_position.4 }}"><a href="#step-5">
                <h4 class="list-group-item-heading">步骤五</h4>
                <p class="list-group-item-text"></p>
            </a></li>
          </ul>
        </div>
	    </div>
    </div>

    <form class="container">
        <div class="row setup-content step-main" id="step-1">
            <div class="col-xs-12">
                <div class="col-md-12 well text-center">
                  <h1 class="text-center">排课开始</h1>
                  <div class="col-md-4 col-md-offset-1 text-center">
                    <div class="col-md-11 col-md-offset-1"><h4 class="text-left">本次排课目标学年为:</h4></div>
                    <div class="col-md-11 col-md-offset-1">
                      <h4 class="text-left">学年</h4>
                      <select multiple class="form-control" id="step_1_select_list">
                        <option>2017-2018</option>
                        <option>2018-2019</option>
                        <option>2019-2020</option>
                      </select>
                    </div>
                  </div>
                  <div class="col-md-2 col-md-offset-10 text-center">
                    <button id="activate-step-2" class="btn btn-primary btn-bg">确认完成这一步</button>
                  </div>
                </div>
            </div>
        </div>
    </form>

    <form class="container">
        <div class="row setup-content step-main" id="step-2">
            <div class="col-xs-12">
                <div class="col-md-12 well text-center">
                    <h4 class="text-left">本次排课目标学期为：{{ step_info.0 }}学年</h4>
                </div>
                <div class="col-md-12 well text-center">
                  <div class="col-md-3">
                    本科
                  </div>
                  <div class="col-md-3">
                    法学硕士
                  </div>
                  <div class="col-md-3">
                    法律硕士
                  </div>
                  <div class="col-md-3">
                    博士
                  </div>
                  <div class="col-md-3">
                    <div style="padding:10px">
                      {% if step_info.1 == 1 %}
                        <a target="_blank" class="btn btn-primary btn-lg active" role="button" id="s2_r1_c1" value="{{ step_info.1 }}" onclick="click_class('s2_r1_c1')">确认课程信息</a>
                      {% elif step_info.1 == 2 %}
                        <a target="_blank" disabled="disabled" class="btn btn-primary btn-lg active" role="button" id="s2_r1_c1" value="{{ step_info.1 }}" onclick="click_class('s2_r1_c1')">课程已确认</a>
                      {% else %}
                          <a href="/class_manage/" target="_blank" class="btn btn-primary btn-lg active" role="button" id="s2_r1_c1" value="{{ step_info.1 }}" onclick="click_class('s2_r1_c1')">输入课程信息</a>
                      {% endif %}
                    </div>
                  </div>
                  <div class="col-md-3">
                    <div style="padding:10px">
                      {% if step_info.2 == 1 %}
                        <a target="_blank" class="btn btn-primary btn-lg active" role="button" id="s2_r1_c2" value="{{ step_info.2 }}" onclick="click_class('s2_r1_c2')">确认课程信息</a>
                      {% elif step_info.2 == 2 %}
                        <a target="_blank" disabled="disabled" class="btn btn-primary btn-lg active" role="button" id="s2_r1_c2" value="{{ step_info.2 }}" onclick="click_class('s2_r1_c2')">课程已确认</a>
                      {% else %}
                          <a href="/class_manage/" target="_blank" class="btn btn-primary btn-lg active" role="button" id="s2_r1_c2" value="{{ step_info.2 }}" onclick="click_class('s2_r1_c2')">输入课程信息</a>
                      {% endif %}
                    </div>
                  </div>
                  <div class="col-md-3">
                    <div style="padding:10px">
                      {% if step_info.3 == 1 %}
                        <a target="_blank" class="btn btn-primary btn-lg active" role="button" id="s2_r1_c3" value="{{ step_info.3 }}" onclick="click_class('s2_r1_c3')">确认课程信息</a>
                      {% elif step_info.3 == 2 %}
                        <a target="_blank" disabled="disabled" class="btn btn-primary btn-lg active" role="button" id="s2_r1_c3" value="{{ step_info.3 }}" onclick="click_class('s2_r1_c3')">课程已确认</a>
                      {% else %}
                          <a href="/class_manage/" target="_blank" class="btn btn-primary btn-lg active" role="button" id="s2_r1_c3" value="{{ step_info.3 }}" onclick="click_class('s2_r1_c3')">输入课程信息</a>
                      {% endif %}
                    </div>
                  </div>
                  <div class="col-md-3">
                    <div style="padding:10px">
                      {% if step_info.4 == 1 %}
                        <a target="_blank" class="btn btn-primary btn-lg active" role="button" id="s2_r1_c4" value="{{ step_info.4 }}" onclick="click_class('s2_r1_c4')">确认课程信息</a>
                      {% elif step_info.4 == 2 %}
                        <a target="_blank" disabled="disabled" class="btn btn-primary btn-lg active" role="button" id="s2_r1_c4" value="{{ step_info.4 }}" onclick="click_class('s2_r1_c4')">课程已确认</a>
                      {% else %}
                          <a href="/class_manage/" target="_blank" class="btn btn-primary btn-lg active" role="button" id="s2_r1_c4" value="{{ step_info.4 }}" onclick="click_class('s2_r1_c4')">输入课程信息</a>
                      {% endif %}
                    </div>
                  </div>
                  <div class="col-md-12" style="padding:10px">
                    {% if step_info.5 == 1 %}
                      <button class="btn btn-lg btn-primary" id="s2_r2_c1" style="width: 90%" data-toggle="modal" data-target="#setTimeout" type="button">教师申报课程</button>
                    {% elif step_info.5 == 2 %}
                      <button class="btn btn-lg btn-primary" id="s2_r2_c1" style="width: 90%" data-toggle="modal" data-target="#setTimeout" value="{{ step_info.6 }}" type="button">距离申报课程截止时间还有<a id="timer"></a></button>
                    {% elif step_info.5 == 3 %}
                      <button class="btn btn-lg btn-primary" id="s2_r2_c1" style="width: 90%" onclick="" value="" type="button">申报课程时间已经截止</button>
                    {% else %}
                      <button class="btn btn-lg btn-primary" disabled="disabled" id="s2_r2_c1" style="width: 90%" type="button">教师申报课程</button>
                    {% endif %}
                  </div>
                  <div class="col-md-3">
                    <div style="padding:10px">
                      {% if step_info.5 == 3 %}
                        {% if step_info.7 == 1%}
                          <a href="/teacher_manage/" target="_blank"  class="btn btn-primary btn-lg active" role="button" id="s2_r3_c1" value="{{ step_info.7 }}" onclick="click_teacher('s2_r3_c1')">确认课程老师</a>
                        {% elif step_info.7 == 2 %}
                          <a target="_blank" disabled="disabled"  class="btn btn-primary btn-lg active" role="button">老师已确认</a>
                        {% else %}
                          <a href="/teacher_manage/" target="_blank"  class="btn btn-primary btn-lg active" role="button" id="s2_r3_c1" value="{{ step_info.7 }}" onclick="click_teacher('s2_r3_c1')">核对课程老师</a>
                        {% endif %}
                      {% else %}
                        <a href="/teacher_manage/" disabled="disabled" class="btn btn-primary btn-lg active" role="button">核对课程老师</a>
                      {% endif %}
                    </div>
                  </div>
                  <div class="col-md-3">
                    <div style="padding:10px">
                      {% if step_info.5 == 3 %}
                        {% if step_info.8 == 1%}
                          <a href="/teacher_manage/" target="_blank"  class="btn btn-primary btn-lg active" role="button" id="s2_r3_c2" value="{{ step_info.8 }}" onclick="click_teacher('s2_r3_c2')">确认课程老师</a>
                        {% elif step_info.8 == 2 %}
                          <a disabled="disabled" target="_blank"  class="btn btn-primary btn-lg active" role="button">老师已确认</a>
                        {% else %}
                          <a href="/teacher_manage/" target="_blank"  class="btn btn-primary btn-lg active" role="button" id="s2_r3_c2" value="{{ step_info.8 }}" onclick="click_teacher('s2_r3_c2')">核对课程老师</a>
                        {% endif %}
                      {% else %}
                        <a href="/teacher_manage/" disabled="disabled" class="btn btn-primary btn-lg active" role="button">核对课程老师</a>
                      {% endif %}
                    </div>
                  </div>
                  <div class="col-md-3">
                    <div style="padding:10px">
                      {% if step_info.5 == 3 %}
                        {% if step_info.9 == 1%}
                          <a href="/teacher_manage/" target="_blank"  class="btn btn-primary btn-lg active" role="button" id="s2_r3_c3" value="{{ step_info.9 }}" onclick="click_teacher('s2_r3_c3')">确认课程老师</a>
                        {% elif step_info.9 == 2 %}
                          <a disabled="disabled" target="_blank"  class="btn btn-primary btn-lg active" role="button">老师已确认</a>
                        {% else %}
                          <a href="/teacher_manage/" target="_blank"  class="btn btn-primary btn-lg active" role="button" id="s2_r3_c3" value="{{ step_info.9 }}" onclick="click_teacher('s2_r3_c3')">核对课程老师</a>
                        {% endif %}
                      {% else %}
                        <a href="/teacher_manage/" disabled="disabled" class="btn btn-primary btn-lg active" role="button">核对课程老师</a>
                      {% endif %}
                    </div>
                  </div>
                  <div class="col-md-3">
                    <div style="padding:10px">
                      {% if step_info.5 == 3 %}
                        {% if step_info.10 == 1%}
                          <a href="/teacher_manage/" target="_blank"  class="btn btn-primary btn-lg active" role="button" id="s2_r3_c4" value="{{ step_info.10 }}" onclick="click_teacher('s2_r3_c4')">确认课程老师</a>
                        {% elif step_info.10 == 2 %}
                          <a target="_blank"  disabled="disabled" class="btn btn-primary btn-lg active" role="button">老师已确认</a>
                        {% else %}
                          <a href="/teacher_manage/" target="_blank"  class="btn btn-primary btn-lg active" role="button" id="s2_r3_c4" value="{{ step_info.10 }}" onclick="click_teacher('s2_r3_c4')">核对课程老师</a>
                        {% endif %}
                      {% else %}
                        <a href="/teacher_manage/" disabled="disabled" class="btn btn-primary btn-lg active" role="button">核对课程老师</a>
                      {% endif %}
                    </div>
                  </div>
                  <div class="col-md-2 col-md-offset-10 text-center">
                    <button id="activate-step-3" class="btn btn-primary btn-bg">确认完成这一步</button>
                  </div>
                </div>
            </div>
        </div>
    </form>

    <form class="container">
        <div class="row setup-content step-main" id="step-3">
          <div class="col-xs-12">
            <div class="col-md-12 well text-center">
                <h4 class="text-left">本次排课目标学期为：{{ step_info.0 }}学年</h4>
            </div>
            <div class="col-md-12 well text-center">
              <div class="col-md-3">
                本科
              </div>
              <div class="col-md-3">
                法学硕士
              </div>
              <div class="col-md-3">
                法律硕士
              </div>
              <div class="col-md-3">
                博士
              </div>
            </div>
            <div class="col-md-12 well text-center">
              <button class="btn btn-primary btn-lg" data-toggle="modal" data-target="#arrangeClass" type="button" onclick="arrange_start()">分配授课老师</button>
              <div class="col-md-2 col-md-offset-10 text-center">
                <button id="activate-step-4" class="btn btn-primary btn-bg">确认完成这一步</button>
              </div>
            </div>
          </div>
        </div>
    </form>

    <form class="container">
      <div class="row setup-content step-main" id="step-4">
        <div class="col-xs-12">
          <div class="col-md-12 well text-center">
              <h4 class="text-left">本次排课目标学期为：{{ step_info.0 }}学年</h4>
          </div>
          <div class="col-md-12 well text-center">
            <div class="col-md-3">
              本科
            </div>
            <div class="col-md-3">
              法学硕士
            </div>
            <div class="col-md-3">
              法律硕士
            </div>
            <div class="col-md-3">
              博士
            </div>
          </div>
          <div class="col-md-12 well text-center">
            <div class="col-md-4">
              <button class="btn btn-primary btn-md" type="button" onclick="get_course_report()">统计信息导出</button>
            </div>
            <div class="col-md-4">
              <button class="btn btn-primary btn-md" type="button" onclick="get_analysis_report_1()">提示信息导出</button>
            </div>
            <div class="col-md-4">
              <button class="btn btn-primary btn-md" type="button" onclick="get_course_report()">获得排课结果</button>
            </div>
          </div>
          <div class="col-md-12 well text-center">
            <div class="col-md-3">
              本科
            </div>
            <div class="col-md-3">
              法学硕士
            </div>
            <div class="col-md-3">
              法律硕士
            </div>
            <div class="col-md-3">
              博士
            </div>
            <div class="col-md-3" style="padding: 10px">
              {% if step_info.11 == 0%}
                <button class="btn btn-primary btn-md btn-block" type="button" data-toggle="modal" data-target="#changeAssignTeacher" id="adj_1">微调</button>
              {% else %}
                <button class="btn btn-primary btn-md btn-block" disabled=disabled type="button" data-toggle="modal" data-target="#changeAssignTeacher" id="adj_1">微调</button>
              {% endif %}
            </div>
            <div class="col-md-3" style="padding: 10px">
              {% if step_info.12 == 0%}
                <button class="btn btn-primary btn-md btn-block" type="button" data-toggle="modal" data-target="#changeAssignTeacher" id="adj_2">微调</button>
              {% else %}
                <button class="btn btn-primary btn-md btn-block" disabled=disabled type="button" data-toggle="modal" data-target="#changeAssignTeacher" id="adj_2">微调</button>
              {% endif %}
            </div>
            <div class="col-md-3" style="padding: 10px">
              {% if step_info.13 == 0%}
                <button class="btn btn-primary btn-md btn-block" type="button" data-toggle="modal" data-target="#changeAssignTeacher" id="adj_3">微调</button>
              {% else %}
                <button class="btn btn-primary btn-md btn-block" disabled=disabled type="button" data-toggle="modal" data-target="#changeAssignTeacher" id="adj_3">微调</button>
              {% endif %}
            </div>
            <div class="col-md-3" style="padding: 10px">
              {% if step_info.14 == 0%}
                <button class="btn btn-primary btn-md btn-block" type="button" data-toggle="modal" data-target="#changeAssignTeacher" id="adj_4">微调</button>
              {% else %}
                <button class="btn btn-primary btn-md btn-block" disabled=disabled type="button" data-toggle="modal" data-target="#changeAssignTeacher" id="adj_4">微调</button>
              {% endif %}
            </div>
            <div class="col-md-3" style="padding: 10px">
              <button class="btn btn-primary btn-md btn-block" type="button">统计信息</button>
            </div>
            <div class="col-md-3" style="padding: 10px">
              <button class="btn btn-primary btn-md btn-block" type="button">统计信息</button>
            </div>
            <div class="col-md-3" style="padding: 10px">
              <button class="btn btn-primary btn-md btn-block" type="button">统计信息</button>
            </div>
            <div class="col-md-3" style="padding: 10px">
              <button class="btn btn-primary btn-md btn-block" type="button">统计信息</button>
            </div>
            <div class="col-md-3" style="padding: 10px">
              <button class="btn btn-primary btn-md btn-block" type="button">结果导出</button>
            </div>
            <div class="col-md-3" style="padding: 10px">
              <button class="btn btn-primary btn-md btn-block" type="button">结果导出</button>
            </div>
            <div class="col-md-3" style="padding: 10px">
              <button class="btn btn-primary btn-md btn-block" type="button">结果导出</button>
            </div>
            <div class="col-md-3" style="padding: 10px">
              <button class="btn btn-primary btn-md btn-block" type="button">结果导出</button>
            </div>
            <div class="col-md-3" style="padding: 10px">
              <button class="btn btn-primary btn-md btn-block" type="button" onclick="disable_adjustment_button(adj_1)">确认微调结束</button>
            </div>
            <div class="col-md-3" style="padding: 10px">
              <button class="btn btn-primary btn-md btn-block" type="button" onclick="disable_adjustment_button(adj_2)">确认微调结束</button>
            </div>
            <div class="col-md-3" style="padding: 10px">
              <button class="btn btn-primary btn-md btn-block" type="button" onclick="disable_adjustment_button(adj_3)">确认微调结束</button>
            </div>
            <div class="col-md-3" style="padding: 10px">
              <button class="btn btn-primary btn-md btn-block" type="button" onclick="disable_adjustment_button(adj_4)">确认微调结束</button>
            </div>
            <div class="col-md-2 col-md-offset-10 text-center">
              <button id="activate-step-5" class="btn btn-primary btn-bg">确认完成这一步</button>
            </div>
          </div>
        </div>
      </div>
    </form>

    <form class="container">
      <div class="row setup-content step-main" id="step-5">
        <div class="col-xs-12">
          <div class="col-md-12 well text-center">
              <h4 class="text-left">本次排课目标学期为：{{ step_info.0 }}学年</h4>
          </div>
          <div class="col-md-12 well text-center">
            <div class="col-md-3">
              本科
            </div>
            <div class="col-md-3">
              法学硕士
            </div>
            <div class="col-md-3">
              法律硕士
            </div>
            <div class="col-md-3">
              博士
            </div>
          </div>
          <div class="col-md-12 well text-center">
            <div class="col-md-4">
              <button class="btn btn-primary btn-md" type="button" onclick="get_course_report()">统计信息导出</button>
            </div>
            <div class="col-md-4">
              <button class="btn btn-primary btn-md" type="button" onclick="get_analysis_report_1()">提示信息导出</button>
            </div>
            <div class="col-md-4">
              <button class="btn btn-primary btn-md" type="button" onclick="get_course_report()">获得排课结果</button>
            </div>
          </div>
          <div class="col-md-12 well text-center">
            <div class="col-md-3">
              本科
            </div>
            <div class="col-md-3">
              法学硕士
            </div>
            <div class="col-md-3">
              法律硕士
            </div>
            <div class="col-md-3">
              博士
            </div>
            <div class="col-md-3" style="padding: 10px">
              <button class="btn btn-primary btn-md btn-block" type="button">统计信息</button>
            </div>
            <div class="col-md-3" style="padding: 10px">
              <button class="btn btn-primary btn-md btn-block" type="button">统计信息</button>
            </div>
            <div class="col-md-3" style="padding: 10px">
              <button class="btn btn-primary btn-md btn-block" type="button">统计信息</button>
            </div>
            <div class="col-md-3" style="padding: 10px">
              <button class="btn btn-primary btn-md btn-block" type="button">统计信息</button>
            </div>
            <div class="col-md-3" style="padding: 10px">
              <button class="btn btn-primary btn-md btn-block" type="button">结果导出</button>
            </div>
            <div class="col-md-3" style="padding: 10px">
              <button class="btn btn-primary btn-md btn-block" type="button">结果导出</button>
            </div>
            <div class="col-md-3" style="padding: 10px">
              <button class="btn btn-primary btn-md btn-block" type="button">结果导出</button>
            </div>
            <div class="col-md-3" style="padding: 10px">
              <button class="btn btn-primary btn-md btn-block" type="button">结果导出</button>
            </div>
          </div>
          <div class="col-md-12 well text-center">
            <div class="col-md-4">
              {% if step_info.15 == 'lock done'%}
                <button class="btn btn-primary btn-lg btn-block" type="button" disabled="disabled" onclick="lock_other_step()">已锁定</button>
              {% else %}
                <button class="btn btn-primary btn-lg btn-block" onclick="lock_other_step()">锁定排课过程</button>
              {% endif %}
            </div>
            <div class="col-md-4">
              <button class="btn btn-primary btn-lg btn-block" type="button" onclick="get_course_report()">排课结果导出</button>
            </div>
            <div class="col-md-4">
              <button class="btn btn-primary btn-lg btn-block" type="button" onclick="()">重新解锁</button>
            </div>
          </div>
        </div>
      </div>
    </form>


    <!-- Modal -->
    <div class="modal fade" id="setTimeout" tabindex="-1" role="dialog">
      <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content">
          <div class="modal-header">
              <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
              <h4 class="modal-title" id="">请设置教师申报截止日期</h4>
          </div>
          <div class="modal-body " id="">
            <div class="row">
              <div class="col-sm-3">
                <div class="input-group">
                  <select class="form-control" id="setYear">
                    <option>2018</option>
                    <option>2019</option>
                  </select>
                  <span class="input-group-addon">年</span>
                </div>
              </div>
              <div class="col-sm-2 form-group">
                <div class="input-group">
                  <select class="form-control" id="setMonth">
                  {% for i in times.0 %}<option>{{i}}</option>{% endfor %}
                  </select>
                  <span class="input-group-addon">月</span>
                </div>
              </div>
              <div class="col-sm-2 form-group">
                <div class="input-group">
                  <select class="form-control" id="setDay">
                  {% for i in times.1 %}<option>{{i}}</option>{% endfor %}
                  </select>
                  <span class="input-group-addon">日</span>
                </div>
              </div>
              <div class="col-sm-2 form-group">
                <div class="input-group">
                  <select class="form-control" id="setHour">
                  {% for i in times.2 %}<option>{{i}}</option>{% endfor %}
                  </select>
                  <span class="input-group-addon">时</span>
                </div>
              </div>
              <div class="col-sm-2 form-group">
                <div class="input-group">
                  <select class="form-control" id="setMin">
                  {% for i in times.3 %}<option>{{i}}</option>{% endfor %}
                  </select>
                  <span class="input-group-addon">分</span>
                </div>
              </div>
            </div>
          </div>
          <div class="modal-footer">
            <button class="button" onclick="start_request()">确定</button>
            <button type="button" class="button" data-dismiss="modal">关闭</button>
          </div>
        </div>
      </div>
    </div>

    <!-- Modal -->
    <div class="modal fade" id="arrangeClass" tabindex="-1" role="dialog">
      <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content">
          <div class="modal-header">
              <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
              <h4 class="modal-title" id="">统计信息</h4>
          </div>
          <div class="modal-body " id="">
            <div>教师总人数: <strong id="teacher_count"></strong></div>
            <div>有<strong id="teacher_with_expect"></strong>位教师有期望学时, 总计<strong id="total_hours_with_expect"></strong>学时</div>
            <div>其余<strong id="teacher_without_expect"></strong>位教师, 预计平均分配学时为<strong id="ave_hours_without_expect"></strong></div>
            <div class="row">
              <div class="col-sm-3">预计平均课程难度</div>
              <div class="col-sm-9">
                <table class="table table-bordered" >
                  <thead>
                  <tr><th>课程难度</th><th>10</th><th>9</th><th>8</th><th>7</th><th>6</th><th>5</th><th>4</th><th>3</th><th>2</th><th>1</th></tr>
                  </thead>
                  <tbody id="course_degree_info">
                  </tbody>
                </table>
              </div>
            </div>
            <div>课程总数<strong id="total_courses"></strong></div>
            <table class="table table-bordered">
              <thead>
                <tr>
                  <td></td><td colspan="10">难度系数</td><td colspan="5">学时</td>
                </tr>
                <tr>
                  <td></td>
                  <td>10</td><td>9</td><td>8</td><td>7</td><td>6</td><td>5</td><td>4</td><td>3</td><td>2</td><td>1</td>
                  <td>18</td><td>36</td><td>54</td><td>56</td><td>72</td>
                </tr>
              </thead>
              <tbody id="whole_info_present">
              </tbody>
            </table>
          <div class="modal-footer">
            <button type="button" class="button" data-toggle="modal" data-target="#arrangeClass2" id="arrange_class_start">确定</button>
            <button type="button" class="button" data-dismiss="modal">关闭</button>
          </div>
        </div>

        </div>
      </div>
    </div>

    <!-- Modal -->
    <div class="modal fade" id="arrangeClass2" tabindex="-1" role="dialog">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
              <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
              <h4 class="modal-title" id="titleDuringArrange">排课进行中......</h4>
              <h4 class="modal-title" hidden="hidden" id="titleAfterArrange">排课结束</h4>
          </div>
          <div class="modal-body " >
            <div class="row">
              <p hidden="hidden" id="contentAfterArrange">排课结束</p>
              <div class="col-sm-3 col-md-offset-1">
                <button class="btn btn-primary btn-lg" type="button" id="export_course_report_1" disabled="disabled" onclick="get_course_report()">导出排课结果</button>
              </div>
              <div class="col-sm-3 col-md-offset-3">
                <button class="btn btn-primary btn-lg" type="button" id="analysis_course_report_1" disabled="disabled" onclick="get_analysis_report_1()">导出分析报告</button>
              </div>
            </div>

          </div>
          <div class="modal-footer">
            <button type="button" class="button" id="close_arrange_class2">关闭窗口</button>
          </div>
        </div>
      </div>
    </div>

      <!-- Modal -->
      <div class="modal fade" id="changeAssignTeacher" tabindex="-1" role="dialog">
        <div class="modal-dialog" role="document">
          <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <h4 class="modal-title" id="myEditModalLabel">编辑课程信息</h4>
            </div>
            <div class="modal-body " id="edit_modal_body">
              <form class="form-horizontal">
                  <div class="row form-group">
                      <label for="e_0" class="col-sm-2 control-label">课程代码</label>
                      <div class="col-sm-10">
                          <div class="input-group">
                              <input id="e_0"  class="form-control" type="text" placeholder="课程号码">
                              <span class="input-group-btn">
                                  <button id="search_course_id" class="btn btn-default" type="button" onclick="search_course_by_id()"><span class="glyphicon glyphicon-search" aria-hidden="true"></span> 查找 </button>
                              </span>
                          </div>
                      </div>
                  </div>
                  <div class="row form-group">
                      <label for="e_1" class="col-sm-2 control-label">课程名称</label>
                      <div class="col-sm-10">
                        <input id="e_1" disabled='disabled' class="form-control" type="text" placeholder="课程名称">
                      </div>
                  </div>
                  <div class="row form-group">
                      <label for="e_2" class="col-sm-2 control-label">学位</label>
                      <div class="col-sm-4">
                        <input id="e_2" disabled='disabled' class="form-control" type="text" placeholder="学位">
                      </div>
                      <label for="e_3" class="col-sm-2 control-label">年级</label>
                      <div class="col-sm-4">
                        <input id="e_3" disabled='disabled' class="form-control" type="text" placeholder="年级">
                      </div>
                  </div>
                  <div class="row form-group">
                      <label for="e_4" class="col-sm-2 control-label">班级</label>
                      <div class="col-sm-10">
                        <input id="e_4" disabled='disabled' class="form-control" type="text" placeholder="班级">
                      </div>
                  </div>
                  <div class="row form-group">
                      <label for="e_5" class="col-sm-2 control-label">难度</label>
                      <div class="col-sm-4">
                        <input id="e_5" disabled='disabled' class="form-control" type="text" placeholder="难度">
                      </div>
                      <label for="e_6" class="col-sm-2 control-label">学时</label>
                      <div class="col-sm-4">
                        <input id="e_6" disabled='disabled' class="form-control" type="text" placeholder="学时">
                      </div>
                  </div>
                  <div class="row form-group">
                      <label for="e_7" class="col-sm-2 control-label">周上课次数</label>
                      <div class="col-sm-4">
                        <input id="e_7" disabled='disabled' class="form-control" type="text" placeholder="周上课次数">
                      </div>
                      <label for="e_8" class="col-sm-2 control-label">要求教师个数</label>
                      <div class="col-sm-4">
                        <input id="e_8" disabled='disabled' class="form-control" type="text" placeholder="要求教师个数">
                      </div>
                  </div>
                  <h2 class="sub-header"></h2>
                  <div class="row form-group">
                      <div class="col-sm-6">
                        <label for="e_9" class="col-sm-2 control-label">原授课老师</label>
                        <div class="col-sm-10">
                          <table id="e_9" class="table table-striped">
                            <thead>
                              <tr>
                                <td>工号</td>
                                <td>姓名</td>
                              </tr>
                            </thead>
                            <tbody>
                            </tbody>
                          </table>
                        </div>
                      </div>
                      <div class="col-sm-6">
                        <div class="row form-group">
                          <label for="e_10" class="col-sm-2 control-label">替换成授课老师</label>
                          <div class="col-sm-10">
                            <table id="e_10" class="table table-striped">
                              <thead>
                                <tr>
                                  <td>工号</td>
                                  <td>姓名</td>
                                </tr>
                              </thead>
                              <tbody>
                              </tbody>
                            </table>
                          </div>
                        </div>
                        <div class="row form-group">
                            <div class="col-sm-4 col-sm-offset-2"><button id="add_e_11" class="btn btn-primary" style="width:100%" type="button" data-toggle="modal" data-target="#add_teacher_e_10">添加</button></div>
                            <div class="col-sm-4"><button id="delete_e_10" class="btn btn-danger" style="width:100%" type="button">删除</button></div>
                        </div>
                      </div>
                  </div>
              </form>
            </div>
            <div class="modal-footer">
                <button class="button" onclick="change_assign_teacher()">确定</button>
                <button type="button" class="button" data-dismiss="modal">取消</button>
            </div>
          </div>
        </div>
      </div>
      <!-- Modal -->
      <div class="modal fade" id="add_teacher_e_10" tabindex="-1" role="dialog">
        <div class="modal-dialog" role="document">
          <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <h4 class="modal-title">添加老师</h4>
            </div>
            <div class="modal-body " >
              <form class="form-horizontal">
                <div class="row form-group">
                  <label for="e_0" class="col-sm-2 control-label">工号 或者 姓名</label>
                  <div class="col-sm-10">
                      <div class="input-group">
                        <input id="e_10_teacher_str"  class="form-control" type="text">
                        <span class="input-group-btn">
                          <button id="search_teacher_id" class="btn btn-default" type="button"><span class="glyphicon glyphicon-search" aria-hidden="true"></span> 查找 </button>
                        </span>
                      </div>
                      <div class="input-group">
                        <span class="help-block" id="helpBlock1"></span>
                        <span class="help-block" id="helpBlock2"></span>
                      </div>
                  </div>
                </div>
              </form>
            </div>
            <div class="modal-footer">
              <button class="button" id="add_teacher_id">确定</button>
            </div>
          </div>
        </div>
      </div>
    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="/static/js/jquery-3.2.1.min.js"></script>
    <script>window.jQuery || document.write('<script src="../../assets/js/vendor/jquery.min.js"><\/script>')</script>
    <script src="../static/dist/js/bootstrap.min.js"></script>
    <!-- Just to make our placeholder images work. Don't actually copy the next line! -->
    <script src="../static/assets/js/vendor/holder.min.js"></script>
    <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
    <script src="../static/assets/js/ie10-viewport-bug-workaround.js"></script>

{#    <script type="text/javascript" src="../static/DataTables/jQuery-3.2.1/jquery-3.2.1.min.js"></script>#}
    <script type="text/javascript" src="../static/DataTables/DataTables-1.10.16/js/jquery.dataTables.min.js"></script>
    <script type="text/javascript" src="../static/info_manage/arrange_class.js"></script>
  </body>
</html>
